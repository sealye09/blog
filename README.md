# é™æ€åšå®¢ç”Ÿæˆå™¨

## [Seal's Blog](https://sealye09.github.io)

ä¸€ä¸ªç®€æ´ã€é«˜æ•ˆçš„é™æ€åšå®¢ç”Ÿæˆå™¨ï¼Œä¸“ä¸º GitHub Pages è®¾è®¡ã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **å¿«é€Ÿæ„å»º**ï¼šä½¿ç”¨ TypeScript ç¼–å†™ï¼Œæ„å»ºé€Ÿåº¦å¿«
- ğŸ“ **Markdown æ”¯æŒ**ï¼šä½¿ç”¨ Markdown ç¼–å†™æ–‡ç« ï¼Œæ”¯æŒ Front Matter å…ƒæ•°æ®
- ğŸ¤– **AI ç”Ÿæˆæ‘˜è¦**ï¼šæ”¯æŒ OpenAIã€DeepSeek ç­‰ AI æœåŠ¡è‡ªåŠ¨ç”Ÿæˆæ–‡ç« æ‘˜è¦
- ğŸ¨ **ç°ä»£è®¾è®¡**ï¼šå“åº”å¼å¸ƒå±€ï¼Œå®Œç¾é€‚é…å„ç§è®¾å¤‡
- ğŸŒ“ **ä¸»é¢˜åˆ‡æ¢**ï¼šæ”¯æŒæµ…è‰²/æ·±è‰²æ¨¡å¼
- ğŸ’¡ **ä»£ç é«˜äº®**ï¼šåŸºäº Highlight.js çš„ä»£ç è¯­æ³•é«˜äº®
- ğŸ“‚ **å½’æ¡£é¡µé¢**ï¼šæŒ‰å¹´ä»½è‡ªåŠ¨ç»„ç»‡æ–‡ç« 
- ğŸ”— **SEO å‹å¥½**ï¼šç”Ÿæˆçš„é¡µé¢ç»“æ„æ¸…æ™°ï¼Œåˆ©äºæœç´¢å¼•æ“æ”¶å½•
- ğŸ“‹ **ç»“æ„åŒ–æ—¥å¿—**ï¼šç»Ÿä¸€çš„æ—¥å¿—ç³»ç»Ÿï¼Œæ”¯æŒå¤šçº§åˆ«æ—¥å¿—å’Œå½©è‰²è¾“å‡º

## ğŸ“¦ æŠ€æœ¯æ ˆ

- **æ„å»ºå·¥å…·**ï¼šTypeScript + tsx
- **Markdown è§£æ**ï¼šmarkdown-it
- **ä»£ç é«˜äº®**ï¼šhighlight.js
- **æ—¥æœŸå¤„ç†**ï¼šdayjs
- **AI é›†æˆ**ï¼šVercel AI SDK (æ”¯æŒ OpenAIã€DeepSeek ç­‰)
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šç»Ÿä¸€çš„ç»“æ„åŒ–æ—¥å¿—ï¼Œæ”¯æŒå¤šçº§åˆ«å’Œå½©è‰²è¾“å‡º
- **åŒ…ç®¡ç†**ï¼špnpm

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 22.0.0
- pnpm >= 8.0.0

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sealye09/blog.git
cd blog

# å®‰è£…ä¾èµ–
pnpm install
```

### é…ç½®

ç¼–è¾‘ `scripts/config.ts` æ–‡ä»¶ï¼Œé…ç½®ä½ çš„åšå®¢ä¿¡æ¯ï¼š

```typescript
export const config: BlogConfig = {
  FROM_DIR: "__blogs", // Markdown æ–‡ä»¶ç›®å½•
  POSTS_DIR: "posts", // ç”Ÿæˆçš„æ–‡ç« ç›®å½•
  ASSETS_FROM: "assets", // é™æ€èµ„æºç›®å½•
  USERNAME: "Your Name", // æ˜¾ç¤ºåç§°
  GITHUB_USERNAME: "username", // GitHub ç”¨æˆ·å
};
```

### å†™ä½œ

åœ¨ `__blogs` ç›®å½•ä¸‹åˆ›å»º Markdown æ–‡ä»¶ï¼Œä½¿ç”¨ Front Matter è®¾ç½®æ–‡ç« å…ƒæ•°æ®ï¼š

```markdown
---
title: æ–‡ç« æ ‡é¢˜
date created: 2025-01-01T00:00:00+08:00
date modified: 2025-01-01T00:00:00+08:00
tags: [æ ‡ç­¾1, æ ‡ç­¾2]
summary: æ–‡ç« æ‘˜è¦
---

# æ–‡ç« å†…å®¹

è¿™é‡Œæ˜¯æ­£æ–‡...
```

### æ„å»º

```bash
# æ„å»ºåšå®¢
pnpm build
```

æ„å»ºå®Œæˆåï¼Œç”Ÿæˆçš„ç½‘ç«™å°†ä½äº `{GITHUB_USERNAME}.github.io/` ç›®å½•ä¸‹ã€‚

### éƒ¨ç½²åˆ° GitHub Pages

#### æ–¹æ³•ä¸€ï¼šè‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. åœ¨ GitHub åˆ›å»ºåä¸º `{username}.github.io` çš„ä»“åº“
2. ç¡®ä¿ `scripts/config.ts` ä¸­çš„ `GITHUB_USERNAME` é…ç½®æ­£ç¡®
3. è¿è¡Œæ„å»ºå’Œéƒ¨ç½²å‘½ä»¤ï¼š

```bash
pnpm deploy # éƒ¨ç½²åˆ° GitHub
```

**æ³¨æ„**ï¼š

- `deploy` å‘½ä»¤ä¼šå¼ºåˆ¶æ¨é€ï¼ˆ`git push -f`ï¼‰ï¼Œæœ¬åœ°ä¼šè¦†ç›–è¿œç¨‹ä»“åº“
- é¦–æ¬¡éƒ¨ç½²ä¼šè‡ªåŠ¨åˆå§‹åŒ– Git ä»“åº“å¹¶é…ç½®è¿œç¨‹åœ°å€
- é»˜è®¤æ¨é€åˆ° `main` åˆ†æ”¯

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

å¦‚æœä½ æƒ³æ‰‹åŠ¨æ§åˆ¶éƒ¨ç½²è¿‡ç¨‹ï¼š

```bash
cd {GITHUB_USERNAME}.github.io
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/{username}/{username}.github.io.git
git push -u origin main
```

#### é…ç½® GitHub Pages

1. åœ¨ä»“åº“è®¾ç½®ä¸­å¯ç”¨ GitHub Pagesï¼ˆé€‰æ‹© main åˆ†æ”¯ï¼‰
2. è®¿é—® `https://{username}.github.io` æŸ¥çœ‹ä½ çš„åšå®¢

## ğŸ¤– AI ç”Ÿæˆæ‘˜è¦

æœ¬é¡¹ç›®æ”¯æŒä½¿ç”¨ AI è‡ªåŠ¨ä¸ºæ–‡ç« ç”Ÿæˆæ‘˜è¦ï¼Œå…¼å®¹ OpenAIã€DeepSeek ç­‰ OpenAI API å…¼å®¹çš„æœåŠ¡ã€‚

### é…ç½®

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# API å¯†é’¥ï¼ˆå¿…éœ€ï¼‰
OPENAI_API_KEY=sk-your-api-key-here

# API ç«¯ç‚¹ï¼ˆå¯é€‰ï¼‰
# OpenAI: ä¸è®¾ç½®æˆ–ä½¿ç”¨ https://api.openai.com/v1
# DeepSeek: https://api.deepseek.com
OPENAI_API_BASE=https://api.deepseek.com

# æ¨¡å‹åç§°ï¼ˆå¯é€‰ï¼Œé»˜è®¤: gpt-3.5-turboï¼‰
# OpenAI: gpt-3.5-turbo, gpt-4, gpt-4o, gpt-4o-mini
# DeepSeek: deepseek-chat, deepseek-reasoner
OPENAI_MODEL=deepseek-chat

# æ‘˜è¦æœ€å¤§é•¿åº¦ï¼ˆå¯é€‰ï¼Œé»˜è®¤: 150ï¼‰
AI_SUMMARY_MAX_LENGTH=150
```

### ä½¿ç”¨æ–¹æ³•

```bash
# ä¸ºæŒ‡å®šæ–‡ä»¶ç”Ÿæˆæ‘˜è¦
pnpm gen __blogs/article1.md __blogs/article2.md

# ä½¿ç”¨é€šé…ç¬¦
pnpm gen __blogs/*.md

# ä¸º git æš‚å­˜åŒºçš„æ–‡ä»¶ç”Ÿæˆæ‘˜è¦
pnpm gen --staged
# æˆ–ä½¿ç”¨ç®€å†™
pnpm gen -s
# æˆ–ä½¿ç”¨å¿«æ·å‘½ä»¤
pnpm gen:staged

# æŸ¥çœ‹å¸®åŠ©
pnpm gen --help
```

**æ³¨æ„**ï¼š

- å¿…é¡»æŒ‡å®šè¦å¤„ç†çš„æ–‡ä»¶æˆ–ä½¿ç”¨ `--staged` å‚æ•°
- é»˜è®¤ä¼šå¼ºåˆ¶è¦†ç›–å·²æœ‰çš„æ‘˜è¦
- ç”Ÿæˆçš„æ‘˜è¦ä¼šè‡ªåŠ¨å†™å…¥æ–‡ç« çš„ Front Matter `summary` å­—æ®µ

## ğŸ“‹ æ—¥å¿—ç³»ç»Ÿ

æœ¬é¡¹ç›®å®ç°äº†ç»Ÿä¸€çš„ç»“æ„åŒ–æ—¥å¿—ç³»ç»Ÿï¼Œä¸ºæ„å»ºã€ä¼˜åŒ–ã€éƒ¨ç½²ç­‰è¿‡ç¨‹æä¾›æ¸…æ™°çš„æ—¥å¿—è¾“å‡ºã€‚

### ç‰¹æ€§

- **å¤šçº§åˆ«æ—¥å¿—**ï¼šDEBUGã€INFOã€WARNã€ERRORã€FATAL
- **å½©è‰²è¾“å‡º**ï¼šæ¯ä¸ªæ—¥å¿—çº§åˆ«ä½¿ç”¨ä¸åŒé¢œè‰²å’Œå›¾æ ‡
- **æ—¶é—´æˆ³**ï¼šç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´è®°å½•
- **ä¸“ç”¨æ—¥å¿—å™¨**ï¼šä¸ºä¸åŒåŠŸèƒ½æ¨¡å—æä¾›ä¸“ç”¨æ—¥å¿—å™¨
- **ç¯å¢ƒé€‚é…**ï¼šæ ¹æ®ç¯å¢ƒè‡ªåŠ¨è°ƒæ•´æ—¥å¿—çº§åˆ«

### ä½¿ç”¨ç¤ºä¾‹

```bash
# æ„å»ºè¿‡ç¨‹çš„æ—¥å¿—è¾“å‡º
pnpm build
# [Blog] [2025-11-19 21:24:11.932] â„¹ï¸ INFO é¡µé¢æ„å»ºå®Œæˆã€‚
# [Blog] [2025-11-19 21:24:11.933] â„¹ï¸ INFO å¼€å§‹ä¼˜åŒ–æ„å»ºäº§ç‰©...

# éƒ¨ç½²è¿‡ç¨‹çš„æ—¥å¿—è¾“å‡º
pnpm deploy
# [Blog] [2025-11-19 21:26:21.655] â„¹ï¸ INFO å¼€å§‹éƒ¨ç½²åšå®¢...
# [Blog] [2025-11-19 21:26:25.384] âš ï¸ WARN å³å°†æ‰§è¡Œå¼ºåˆ¶æ¨é€ï¼ˆä¼šè¦†ç›–è¿œç¨‹ä»“åº“ï¼‰...

# AI ç”Ÿæˆè¿‡ç¨‹çš„æ—¥å¿—è¾“å‡º
pnpm gen --staged
# [Blog] [2025-11-19 21:24:55.031] â„¹ï¸ INFO ğŸ¤– éœ€è¦ç”Ÿæˆæ‘˜è¦çš„æ–‡ä»¶: 1 ä¸ª
# [Blog] [2025-11-19 21:24:58.016] â„¹ï¸ INFO âœ… [1/1] ç”ŸæˆæˆåŠŸ
```

è¯¦ç»†çš„æ—¥å¿—ç³»ç»Ÿæ–‡æ¡£è¯·å‚è€ƒï¼š[docs/LOGGING.md](docs/LOGGING.md)

## ğŸ“ é¡¹ç›®ç»“æ„

```
blog/
â”œâ”€â”€ __blogs/              # Markdown æ–‡ç« æºæ–‡ä»¶
â”œâ”€â”€ assets/               # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ common.css       # é€šç”¨æ ·å¼
â”‚   â”œâ”€â”€ index.css        # é¦–é¡µæ ·å¼
â”‚   â”œâ”€â”€ post.css         # æ–‡ç« é¡µæ ·å¼
â”‚   â”œâ”€â”€ archive.css      # å½’æ¡£é¡µæ ·å¼
â”‚   â””â”€â”€ 404.css          # 404 é¡µæ ·å¼
â”œâ”€â”€ templates/            # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ base.html        # åŸºç¡€æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html       # é¦–é¡µæ¨¡æ¿
â”‚   â”œâ”€â”€ post.html        # æ–‡ç« æ¨¡æ¿
â”‚   â”œâ”€â”€ archive.html     # å½’æ¡£æ¨¡æ¿
â”‚   â””â”€â”€ 404.html         # 404 æ¨¡æ¿
â”œâ”€â”€ scripts/              # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ blog.ts          # ä¸»æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ deploy.ts        # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ gen.ts           # AI æ‘˜è¦ç”Ÿæˆï¼ˆæ•´åˆ staged åŠŸèƒ½ï¼‰
â”‚   â”œâ”€â”€ ai.ts            # AI é€šç”¨è°ƒç”¨å‡½æ•°
â”‚   â”œâ”€â”€ config.ts        # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ optimize-*.ts    # æ„å»ºäº§ç‰©ä¼˜åŒ–è„šæœ¬
â”‚   â””â”€â”€ utils.ts         # æ„å»ºå·¥å…·å‡½æ•°
â”œâ”€â”€ utils/               # å·¥å…·æ¨¡å—
â”‚   â””â”€â”€ logger.ts        # ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿ
â”œâ”€â”€ {username}.github.io/ # ç”Ÿæˆçš„ç½‘ç«™
â”œâ”€â”€ .env                  # ç¯å¢ƒå˜é‡é…ç½®ï¼ˆéœ€è‡ªè¡Œåˆ›å»ºï¼‰
â””â”€â”€ package.json
```

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

æ‰€æœ‰æ ·å¼æ–‡ä»¶ä½äº `assets/` ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ï¼š

- `common.css` - å…¨å±€æ ·å¼ã€å¯¼èˆªæ ã€é¡µè„šç­‰
- `index.css` - é¦–é¡µæ–‡ç« åˆ—è¡¨æ ·å¼
- `post.css` - æ–‡ç« å†…å®¹é¡µæ ·å¼
- `archive.css` - å½’æ¡£é¡µé¢æ ·å¼
- `404.css` - 404 é¡µé¢æ ·å¼

æ ·å¼ä½¿ç”¨ CSS å˜é‡ï¼Œæ”¯æŒä¸»é¢˜å®šåˆ¶ã€‚

## ğŸ“ è„šæœ¬å‘½ä»¤

```bash
# æ„å»ºåšå®¢
pnpm build

# éƒ¨ç½²åˆ° GitHub Pagesï¼ˆå¼ºåˆ¶æ¨é€ï¼‰
pnpm deploy

# AI ç”Ÿæˆæ‘˜è¦
pnpm gen <æ–‡ä»¶...>           # ä¸ºæŒ‡å®šæ–‡ä»¶ç”Ÿæˆæ‘˜è¦
pnpm gen:staged              # ä¸º git æš‚å­˜åŒºçš„æ–‡ä»¶ç”Ÿæˆæ‘˜è¦

# æ ¼å¼åŒ–ä»£ç 
pnpm format
```

## ğŸ”§ å¼€å‘

æœ¬é¡¹ç›®ä½¿ç”¨ [Lefthook](https://github.com/evilmartians/lefthook) ç®¡ç† Git Hooksï¼Œåœ¨æäº¤å‰è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ã€‚

## ğŸ“„ è®¸å¯

MIT License

## ğŸ™ è‡´è°¢

- [markdown-it](https://github.com/markdown-it/markdown-it) - Markdown è§£æå™¨
- [highlight.js](https://highlightjs.org/) - ä»£ç é«˜äº®
- [dayjs](https://day.js.org/) - æ—¥æœŸå¤„ç†åº“
- [Vercel AI SDK](https://sdk.vercel.ai/) - AI é›†æˆæ¡†æ¶

---

**Happy Blogging! ğŸ‰**
